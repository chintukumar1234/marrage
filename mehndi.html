<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mehndi Designs</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif;
}

body{
  background: linear-gradient(135deg,#2c0b18,#000);
  color:white;
}

/* HEADER */
.header{
  height:7vh;
  background:linear-gradient(134deg,rgba(231,118,188,.9),rgba(0,0,0,.4),rgb(224,145,81));
  display:flex;
  align-items:center;
  padding:0 20px;
}

.header h2{
  color:white;
}

/* TITLE */
.mehndi-title{
  text-align:center;
  padding:30px 10px;
}

.mehndi-title h1{
  color:#ffb347;
  font-size:2.5rem;
}

.mehndi-title p{
  opacity:.85;
}

/* GALLERY */
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:25px;
  padding:30px;
}

/* CARD */
.card{
  position:relative;
  border-radius:18px;
  overflow:hidden;
  cursor:pointer;
  box-shadow:0 10px 25px rgba(0,0,0,.5);
  transition:.4s ease;
}

.card img{
  width:100%;
  height:300px;
  object-fit:cover;
  transition:.4s ease;
}

/* OVERLAY */
.overlay{
  position:absolute;
  inset:0;
  background:linear-gradient(to top,rgba(0,0,0,.7),transparent);
  display:flex;
  align-items:flex-end;
  padding:20px;
  opacity:0;
  transition:.4s ease;
}

.overlay h3{
  color:#ffcc70;
  transform:translateY(20px);
  transition:.4s ease;
}

/* HOVER */
.card:hover{
  transform:translateY(-8px) scale(1.03);
}

.card:hover img{
  transform:scale(1.15);
}

.card:hover .overlay{
  opacity:1;
}

.card:hover h3{
  transform:translateY(0);
}

/* POPUP */
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:100;
}

.popup img{
  max-width:90%;
  max-height:90%;
  border-radius:12px;
}

.popup span{
  position:absolute;
  top:20px;
  right:25px;
  font-size:35px;
  cursor:pointer;
  color:white;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <h2>ðŸŒ¿ Mehndi Art</h2>
</div>

<!-- TITLE -->
<div class="mehndi-title">
  <h1>Mehndi Designs</h1>
  <p>Bridal â€¢ Arabic â€¢ Festival â€¢ Simple</p>
</div>

<!-- GALLERY -->
<div class="gallery"></div>

<!-- POPUP -->
<div class="popup" id="popup" onclick="closeImg(event)">
  <span onclick="closeImg()">&times;</span>
  <img id="popupImg">
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

/* Firebase Config */
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "mydatabase-e7c01.firebaseapp.com",
  databaseURL: "https://mydatabase-e7c01-default-rtdb.firebaseio.com",
  projectId: "mydatabase-e7c01",
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* Fetch Images from uploads folder */
const gallery = document.querySelector('.gallery');

get(ref(db, 'uploads'))
.then((snapshot) => {
    if (snapshot.exists()) {
        const uploads = snapshot.val();

        Object.keys(uploads).forEach(key => {

            const imgData = uploads[key].imageData;
            if(!imgData) return;

            const card = document.createElement('div');
            card.classList.add('card');

            const img = document.createElement('img');
            img.src = imgData;
            img.alt = "Uploaded Mehndi";

            const overlay = document.createElement('div');
            overlay.classList.add('overlay');

            const title = document.createElement('h3');
            title.innerText = "Uploaded Mehndi";

            overlay.appendChild(title);
            card.appendChild(img);
            card.appendChild(overlay);

            card.addEventListener("click", () => openImg(imgData));

            gallery.appendChild(card);
        });

    } else {
        gallery.innerHTML = "<h2 style='text-align:center'>No Designs Available</h2>";
    }
})
.catch((error) => {
    console.error("Error fetching data:", error);
});

/* Open Popup */
window.openImg = function(src){
  document.getElementById("popup").style.display="flex";
  document.getElementById("popupImg").src=src;
}

/* Close Popup */
window.closeImg = function(event){
  if(!event || event.target.id === "popup"){
    document.getElementById("popup").style.display="none";
  }
}
</script>
</body>
</html>